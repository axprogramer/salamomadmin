import{_,a as i,c as $,P as e,g as z,f as A}from"./index.es-BNppl9rn.js";import{r as a,R as n}from"./index-BOW9aXAt.js";import{C as G}from"./CConditionalPortal-BHALRb7C.js";import{u as J,T as K}from"./DocsExample-C0Ia_OoD.js";import{u as Q,g as U}from"./isRTL-CRexJb2W.js";import{g as W}from"./getRTLPlacement-Cm1awgRr.js";var k=a.forwardRef(function(t,w){var N=t.children,d=t.animation,C=d===void 0?!0:d,x=t.className,O=t.container,F=t.content,v=t.delay,c=v===void 0?0:v,g=t.fallbackPlacements,H=g===void 0?["top","right","bottom","left"]:g,b=t.offset,M=b===void 0?[0,8]:b,S=t.onHide;t.onShow;var y=t.placement,q=y===void 0?"top":y,D=t.title,h=t.trigger,r=h===void 0?"click":h,u=t.visible,L=_(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),o=a.useRef(null),s=a.useRef(null),V=J(w,o),P=a.useRef("popover".concat(Math.floor(Math.random()*1e6))),E=Q(),j=E.initPopper,B=E.destroyPopper,R=a.useState(u),f=R[0],p=R[1],T=typeof c=="number"?{show:c,hide:c}:c,I={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:H}},{name:"offset",options:{offset:M}}],placement:W(q,s.current)};a.useEffect(function(){p(u)},[u]);var l=function(m){if(m){setTimeout(function(){return p(!0)},T.show);return}setTimeout(function(){return p(!1)},T.hide)};return n.createElement(n.Fragment,null,n.cloneElement(N,i(i(i(i(i({},f&&{"aria-describedby":P.current}),{ref:s}),(r==="click"||r.includes("click"))&&{onClick:function(){return l(!f)}}),(r==="focus"||r.includes("focus"))&&{onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}),(r==="hover"||r.includes("hover"))&&{onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)}})),n.createElement(G,{container:O,portal:!0},n.createElement(K,{in:f,mountOnEnter:!0,nodeRef:o,onEnter:function(){s.current&&o.current&&j(s.current,o.current,I)},onEntering:function(){s.current&&o.current&&(o.current.style.display="initial")},onExit:S,onExited:function(){B()},timeout:{enter:0,exit:o.current?U(o.current)+50:200},unmountOnExit:!0},function(m){return n.createElement("div",i({className:$("popover","bs-popover-auto",{fade:C,show:m==="entered"},x),id:P.current,ref:V,role:"tooltip",style:{display:"none"}},L),n.createElement("div",{className:"popover-arrow"}),n.createElement("div",{className:"popover-header"},D),n.createElement("div",{className:"popover-body"},F))})))});k.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:z,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),title:e.oneOfType([e.string,e.node]),trigger:A,visible:e.bool};k.displayName="CPopover";export{k as C};
