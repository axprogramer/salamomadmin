import{r as s,i as _,k as m,o as q,j as e,s as E,m as P,n as U}from"./index-BOW9aXAt.js";import"./firebaseConfig-C2RYo4BK.js";import{S as a}from"./sweetalert2.all-CknvBjmT.js";import{C as x}from"./index.es-BNppl9rn.js";import{c as F}from"./cil-plus-D8mtC-W5.js";import{C as L,a as X,b as T,c as r,d as V}from"./CTable-R-4nV3n8.js";import{C as D}from"./CButton-DTyOUR8Q.js";import{c as G,a as J}from"./cil-trash-BwZseM3u.js";import{c as K}from"./cil-pen-53d2I-C-.js";const ke=()=>{const[Q,W]=s.useState([]),[Y,Z]=s.useState([]),n=s.useRef(null),i=s.useRef(null),c=s.useRef(null),o=s.useRef(null),[R,h]=s.useState(""),[z,b]=s.useState(""),[O,j]=s.useState(""),[H,g]=s.useState(""),[xe,$]=s.useState(""),[he,ee]=s.useState(""),[d,v]=s.useState(""),[u,f]=s.useState(""),p=s.useRef(""),k=s.useRef(""),w=s.useRef(""),y=s.useRef(""),C=s.useRef(""),A=s.useRef(""),S=_(),te=m(S,"/SalaMOM/tools/times/"),se=m(S,"/SalaMOM/tools/times_august/");s.useEffect(()=>{q(te,t=>{const l=t.val();W(l?Object.values(l):[])}),p.current.style.display="none"},[]),s.useEffect(()=>{q(se,t=>{const l=t.val();Z(l?Object.values(l):[])}),y.current.style.display="none"},[]);const le=t=>{const l=t.target.dataset.startat,N=t.target.dataset.endat,B=t.target.dataset.meridiem,M=t.target.dataset.kind,I=t.target.dataset.timebaleid;n.current.value=l,i.current.value=N,c.current.value=B,o.current.value=M,$(l),ee(N),v(I),k.current.style.display="none",p.current.style.display="inline-block",w.current.style.display="inline-block"},ae=t=>{const l=t.target.dataset.startat,N=t.target.dataset.endat,B=t.target.dataset.meridiem,M=t.target.dataset.kind,I=t.target.dataset.timebaleid;n.current.value=l,i.current.value=N,c.current.value=B,o.current.value=M,h(l),b(N),j(B),g(M),f(I),C.current.style.display="none",y.current.style.display="inline-block",A.current.style.display="inline-block"},re=()=>{k.current.style.display="inline-block",p.current.style.display="none",w.current.style.display="none",n.current.value=null,i.current.value=null,c.current.value=null,o.current.value=null,v("")},ne=()=>{C.current.style.display="inline-block",y.current.style.display="none",A.current.style.display="none",h(""),b(""),j(""),g(""),f("")},ie=()=>{const t=_();d?(a.fire({text:"ព័ត៍មានបានបញ្ចូលត្រឹមត្រូវ!",icon:"success",showConfirmButton:!1,timer:2200}),E(m(t,"/SalaMOM/tools/times/"+d),{id:d,time_setting_start_at:n.current.value,time_setting_end_at:i.current.value,time_setting_meridiem:c.current.value,time_setting_kind:o.current.value}),n.current.value=null,i.current.value=null,c.current.value=null,o.current.value=null,v("")):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})},ce=()=>{const t=_();u?(a.fire({text:"ព័ត៍មានបានបញ្ចូលត្រឹមត្រូវ!",icon:"success",showConfirmButton:!1,timer:2200}),E(m(t,"/SalaMOM/tools/times_august/"+u),{id:u,time_setting_start_at:R,time_setting_end_at:z,time_setting_meridiem:O,time_setting_kind:H}),h(""),b(""),j(""),g(""),f("")):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})},oe=()=>{const t=_();d?(a.fire({text:"ព័ត៍មានបានកែត្រឹមត្រូវ!",icon:"success",showConfirmButton:!1,timer:2200}),P(m(t,"/SalaMOM/tools/times/"+d),{id:d,time_setting_start_at:n.current.value,time_setting_end_at:i.current.value,time_setting_meridiem:c.current.value,time_setting_kind:o.current.value}),n.current.value=null,i.current.value=null,c.current.value=null,o.current.value=null,v("")):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})},de=()=>{const t=_();u?(a.fire({text:"ព័ត៍មានបានកែត្រឹមត្រូវ!",icon:"success",showConfirmButton:!1,timer:2200}),P(m(t,"/SalaMOM/tools/times_august/"+u),{id:u,time_setting_start_at:R,time_setting_end_at:z,time_setting_meridiem:O,time_setting_kind:H}),h(""),b(""),j(""),g(""),f("")):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})},ue=t=>{d?(a.fire({text:"បានលុបត្រឹមត្រូវ",icon:"success",showConfirmButton:!1,timer:2200}),U(m(S,"/SalaMOM/tools/times/"+d)),n.current.value=null,i.current.value=null,c.current.value=null,o.current.value=null,v(""),k.current.style.display="inline-block",p.current.style.display="none",w.current.style.display="none"):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})},me=t=>{u?(a.fire({text:"បានលុបត្រឹមត្រូវ",icon:"success",showConfirmButton:!1,timer:2200}),U(m(S,"/SalaMOM/tools/times_august/"+u)),h(""),b(""),j(""),g(""),f(""),C.current.style.display="inline-block",y.current.style.display="none",A.current.style.display="none"):a.fire({text:"ព័ត៍មានមិនត្រឹមត្រូវ!",icon:"error",showConfirmButton:!1,timer:2200})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 grid-margin",children:e.jsx("div",{className:"card card-primary card-outline",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"row",children:[e.jsx("h4",{className:"card-title",children:"បង្កើតម៉ោងសិក្សាទូទៅ"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs("button",{onClick:re,"data-bs-toggle":"modal","data-bs-target":"#AddNewSub",style:{color:"white"},id:"btn_upload",type:"button",className:"btn btn-success btn-sm",children:[e.jsx(x,{icon:F})," បង្កើតថ្មី"]})}),e.jsx("div",{})]})}),e.jsxs("div",{style:{overflowX:"auto",padding:"15px"},children:[e.jsxs(L,{className:"table table-bordered table-hover",children:[e.jsx(X,{children:e.jsxs(T,{className:"frezze",children:[e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ល.រ"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ប្រភេទម៉ោង"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ម៉ោងផ្តើម"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ម៉ោងបញ្ចប់"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"វេន"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ប្រភេទ"})]})}),e.jsx(V,{children:Q.map((t,l)=>e.jsxs(T,{children:[e.jsx("td",{className:"text-center",children:l+1}),e.jsx("td",{className:"text-center",onClick:le,"data-bs-toggle":"modal","data-bs-target":"#AddNewSub","data-startat":t.time_setting_start_at,"data-endat":t.time_setting_end_at,"data-meridiem":t.time_setting_meridiem,"data-kind":t.time_setting_kind,"data-timebaleid":t.id,children:t.id}),e.jsx("td",{className:"text-center",children:t.time_setting_start_at}),e.jsx("td",{className:"text-center",children:t.time_setting_end_at}),e.jsx("td",{className:"text-center",children:t.time_setting_meridiem}),e.jsx("td",{className:"text-center",children:t.time_setting_kind})]},t.id))})]}),e.jsx("div",{className:"modal fade",id:"AddNewSub",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"fw-bold",for:"selectTime",children:"ប្រភេទម៉ោង"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{className:"form-select text-center",id:"selectTime",value:d,onChange:t=>{v(t.target.value)},style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសប្រភេទម៉ោង"}),e.jsx("option",{value:"ម៉ោងទី១",children:"ម៉ោងទី១"}),e.jsx("option",{value:"ម៉ោងទី២",children:"ម៉ោងទី២"}),e.jsx("option",{value:"ម៉ោងទី៣",children:"ម៉ោងទី៣"}),e.jsx("option",{value:"ម៉ោងទី៤",children:"ម៉ោងទី៤"}),e.jsx("option",{value:"ម៉ោងទី៥",children:"ម៉ោងទី៥"}),e.jsx("option",{value:"ម៉ោងទី៦",children:"ម៉ោងទី៦"}),e.jsx("option",{value:"ម៉ោងទី៧",children:"ម៉ោងទី៧"}),e.jsx("option",{value:"ម៉ោងទី៨",children:"ម៉ោងទី៨"}),e.jsx("option",{value:"ម៉ោងចេញលេងទី១",children:"ម៉ោងចេញលេងទី១"}),e.jsx("option",{value:"ម៉ោងចេញលេងទី២",children:"ម៉ោងចេញលេងទី២"}),e.jsx("option",{value:"ម៉ោងសម្រាក",children:"ម៉ោងសម្រាក"})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"col-sm-6",children:[e.jsx("label",{className:"fw-bold",children:"ផ្តើម"}),e.jsx("input",{placeholder:"ផ្តើម",autocomplete:"off",ref:n,style:{color:"black"},className:"form-control",required:!0,type:"time"})]}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("label",{className:"fw-bold",children:"បញ្ចប់"}),e.jsx("input",{placeholder:"បញ្ចប់",autocomplete:"off",ref:i,style:{color:"black"},className:"form-control",required:!0,type:"time"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"fw-bold",children:"វេន"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{class:"form-select text-center",id:"time_setting_meridiem",ref:c,style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសវេន"}),e.jsx("option",{value:"ព្រឹក",children:"ព្រឹក"}),e.jsx("option",{value:"ល្ងាច",children:"ល្ងាច"})]})})]}),e.jsx("label",{for:"time_setting_kind",children:"ប្រភេទ"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{class:"form-select text-center",id:"time_setting_kind",ref:o,style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសប្រភេទ"}),e.jsx("option",{value:"សិក្សា",children:"សិក្សា"}),e.jsx("option",{value:"ចេញលេង",children:"ចេញលេង"}),e.jsx("option",{value:"សម្រាក",children:"សម្រាក"})]})})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs(D,{ref:k,onClick:ie,style:{color:"white"},type:"button",className:"btn btn-success btn-sm",children:[e.jsx(x,{icon:G}),"   បញ្ចូល"]}),e.jsxs(D,{ref:p,onClick:oe,style:{color:"white"},type:"button",className:"btn btn-warning btn-sm",children:[e.jsx(x,{icon:K}),"   កែ"]}),e.jsx("button",{ref:w,onClick:ue,style:{color:"white"},id:"btn_upload",type:"button",className:"btn btn-danger btn-sm",children:e.jsx(x,{icon:J})})]})]})})})]})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 grid-margin",children:e.jsx("div",{className:"card card-primary card-outline",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"row",children:[e.jsx("h4",{className:"card-title",children:"បង្កើតម៉ោងសិក្សាខែសីហា"}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs("button",{onClick:ne,"data-bs-toggle":"modal","data-bs-target":"#AddNewSubAugust",style:{color:"white"},id:"btn_upload",type:"button",className:"btn btn-success btn-sm",children:[e.jsx(x,{icon:F})," បង្កើតថ្មី"]})}),e.jsx("div",{})]})}),e.jsxs("div",{style:{overflowX:"auto",padding:"15px"},children:[e.jsxs(L,{className:"table table-bordered table-hover",children:[e.jsx(X,{children:e.jsxs(T,{className:"frezze",children:[e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ល.រ"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ប្រភេទម៉ោង"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ម៉ោងផ្តើម"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ម៉ោងបញ្ចប់"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"វេន"}),e.jsx(r,{style:{backgroundColor:"rgb(23, 116, 153)",color:"white"},className:"border-dark text-center",children:"ប្រភេទ"})]})}),e.jsx(V,{children:Y.map((t,l)=>e.jsxs(T,{children:[e.jsx("td",{className:"text-center",children:l+1}),e.jsx("td",{className:"text-center",onClick:ae,"data-bs-toggle":"modal","data-bs-target":"#AddNewSubAugust","data-startat":t.time_setting_start_at,"data-endat":t.time_setting_end_at,"data-meridiem":t.time_setting_meridiem,"data-kind":t.time_setting_kind,"data-timebaleid":t.id,children:t.id}),e.jsx("td",{className:"text-center",children:t.time_setting_start_at}),e.jsx("td",{className:"text-center",children:t.time_setting_end_at}),e.jsx("td",{className:"text-center",children:t.time_setting_meridiem}),e.jsx("td",{className:"text-center",children:t.time_setting_kind})]},t))})]}),e.jsx("div",{className:"modal fade",id:"AddNewSubAugust",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"fw-bold",for:"selectTime",children:"ប្រភេទម៉ោង"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{className:"form-select text-center",id:"selectTime",value:u,onChange:t=>{f(t.target.value)},style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសប្រភេទម៉ោង"}),e.jsx("option",{value:"ម៉ោងទី១",children:"ម៉ោងទី១"}),e.jsx("option",{value:"ម៉ោងទី២",children:"ម៉ោងទី២"}),e.jsx("option",{value:"ម៉ោងទី៣",children:"ម៉ោងទី៣"}),e.jsx("option",{value:"ម៉ោងទី៤",children:"ម៉ោងទី៤"}),e.jsx("option",{value:"ម៉ោងទី៥",children:"ម៉ោងទី៥"}),e.jsx("option",{value:"ម៉ោងទី៦",children:"ម៉ោងទី៦"}),e.jsx("option",{value:"ម៉ោងចេញលេងទី១",children:"ម៉ោងចេញលេងទី១"}),e.jsx("option",{value:"ម៉ោងចេញលេងទី២",children:"ម៉ោងចេញលេងទី២"}),e.jsx("option",{value:"ម៉ោងសម្រាក",children:"ម៉ោងសម្រាក"})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"col-sm-6",children:[e.jsx("label",{className:"fw-bold",children:"ផ្តើម"}),e.jsx("input",{placeholder:"ផ្តើម",autocomplete:"off",value:R,onChange:t=>{h(t.target.value)},style:{color:"black"},className:"form-control",required:!0,type:"time"})]}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("label",{className:"fw-bold",children:"បញ្ចប់"}),e.jsx("input",{placeholder:"បញ្ចប់",autocomplete:"off",value:z,onChange:t=>{b(t.target.value)},style:{color:"black"},className:"form-control",required:!0,type:"time"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"fw-bold",children:"វេន"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{class:"form-select text-center",id:"time_setting_meridiem",value:O,onChange:t=>{j(t.target.value)},style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសវេន"}),e.jsx("option",{value:"ព្រឹក",children:"ព្រឹក"}),e.jsx("option",{value:"ល្ងាច",children:"ល្ងាច"})]})})]}),e.jsx("label",{for:"time_setting_kind",children:"ប្រភេទ"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{class:"form-select text-center",id:"time_setting_kind",value:H,onChange:t=>{g(t.target.value)},style:{color:"black",fontSize:"13px",lineHeight:"2"},children:[e.jsx("option",{children:"ជ្រើសរើសប្រភេទ"}),e.jsx("option",{value:"សិក្សា",children:"សិក្សា"}),e.jsx("option",{value:"ចេញលេង",children:"ចេញលេង"}),e.jsx("option",{value:"សម្រាក",children:"សម្រាក"})]})})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs(D,{ref:C,onClick:ce,style:{color:"white"},type:"button",className:"btn btn-success btn-sm",children:[e.jsx(x,{icon:G}),"   បញ្ចូល"]}),e.jsxs(D,{ref:y,onClick:de,style:{color:"white"},type:"button",className:"btn btn-warning btn-sm",children:[e.jsx(x,{icon:K}),"   កែ"]}),e.jsx("button",{ref:A,onClick:me,style:{color:"white"},id:"btn_upload",type:"button",className:"btn btn-danger btn-sm",children:e.jsx(x,{icon:J})})]})]})})})]})]})})})})]})};export{ke as default};
