import{r as i,R as l,u as T,j as s,a as A,b as R}from"./index-BOW9aXAt.js";import{A as H,a as D,b as L,c as P}from"./DocsExample-C0Ia_OoD.js";import{_ as g,c as p,a as h,P as r,b as z,s as k,t as O,C as x,d as b}from"./index.es-BNppl9rn.js";import{S as w}from"./sweetalert2.all-CknvBjmT.js";import{C as B,a as F,b as M,c as S}from"./CDropdownToggle-CvlC801r.js";import{c as U}from"./cil-user-Ddrdy7PS.js";import{c as q,a as G}from"./cil-menu-DICCZCt7.js";import"./CConditionalPortal-BHALRb7C.js";import"./CButton-DTyOUR8Q.js";import"./isRTL-CRexJb2W.js";var N=i.forwardRef(function(e,o){var a,t=e.children,n=e.className,c=e.color,m=e.shape,d=e.size,u=e.src,f=e.status,y=e.textColor,E=g(e,["children","className","color","shape","size","src","status","textColor"]),I=f&&p("avatar-status","bg-".concat(f));return l.createElement("div",h({className:p("avatar",(a={},a["bg-".concat(c)]=c,a["avatar-".concat(d)]=d,a["text-".concat(y)]=y,a),m,n)},E,{ref:o}),u?l.createElement("img",{src:u,className:"avatar-img"}):t,f&&l.createElement("span",{className:I}))});N.propTypes={children:r.node,className:r.string,color:z,shape:k,size:r.string,src:r.string,status:r.string,textColor:O};N.displayName="CAvatar";var v=i.forwardRef(function(e,o){var a,t=e.children,n=e.className,c=e.container,m=e.position,d=g(e,["children","className","container","position"]);return l.createElement("div",h({className:p("header",(a={},a["header-".concat(m)]=m,a),n)},d,{ref:o}),c?l.createElement("div",{className:typeof c=="string"?"container-".concat(c):"container"},t):l.createElement(l.Fragment,null,t))});v.propTypes={children:r.node,className:r.string,container:r.oneOfType([r.bool,r.oneOf(["sm","md","lg","xl","xxl","fluid"])]),position:r.oneOf(["fixed","sticky"])};v.displayName="CHeader";var C=i.forwardRef(function(e,o){var a=e.children,t=e.as,n=t===void 0?"ul":t,c=e.className,m=g(e,["children","as","className"]);return l.createElement(n,h({className:p("header-nav",c),role:"navigation"},m,{ref:o}),a)});C.propTypes={as:r.elementType,children:r.node,className:r.string};C.displayName="CHeaderNav";var j=i.forwardRef(function(e,o){var a=e.children,t=e.className,n=g(e,["children","className"]);return l.createElement("button",h({type:"button",className:p("header-toggler",t)},n,{ref:o}),a??l.createElement("span",{className:"header-toggler-icon"}))});j.propTypes={children:r.node,className:r.string};j.displayName="CHeaderToggler";const J=()=>{const e=T(),[o,a]=i.useState(""),[t,n]=i.useState(""),c=()=>{localStorage.setItem("isLoggedIn","false"),w.fire({text:"សូមមេត្តារង់ចាំបន្តិច!",icon:"success",showConfirmButton:!1,timer:2500,timerProgressBar:!0,didOpen:()=>{w.showLoading()}}),setTimeout(()=>{e("/login"),localStorage.removeItem("currentPage"),localStorage.removeItem("user_role"),localStorage.removeItem("user_name"),localStorage.removeItem("user_img"),window.location.reload()},2300)},m=localStorage.getItem("user_img"),d=localStorage.getItem("user_name"),u="https://res.cloudinary.com/salamomschool/image/upload/v1713680567/user_icon.jpg";return i.useEffect(()=>{a(m?localStorage.getItem("user_img"):u),n(d?localStorage.getItem("user_name"):"User")},[]),s.jsxs(B,{variant:"nav-item",children:[s.jsx(F,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:s.jsx(N,{src:o,size:"md"})}),s.jsxs(M,{className:"pt-0",placement:"bottom-end",children:[s.jsxs(S,{children:[s.jsx(x,{icon:U,className:"me-2"}),s.jsx("strong",{children:t})]}),s.jsxs(S,{onClick:c,children:[s.jsx(x,{icon:q,className:"me-2"}),"Logout"]})]})]})},K=()=>{const e=i.useRef(),o=A(),a=R(t=>t.sidebarShow);return i.useEffect(()=>{document.addEventListener("scroll",()=>{e.current&&e.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)})},[]),s.jsxs(v,{position:"sticky",className:"mb-4 p-0",ref:e,children:[s.jsxs(b,{className:"border-bottom px-4",fluid:!0,children:[s.jsx(j,{onClick:()=>o({type:"set",sidebarShow:!a}),style:{marginInlineStart:"-14px"},children:s.jsx(x,{icon:G,size:"lg"})}),s.jsx(C,{children:s.jsx(J,{})})]}),s.jsx(b,{className:"px-4",fluid:!0,children:s.jsx(H,{})})]})},ae=()=>s.jsxs("div",{children:[s.jsx(D,{}),s.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[s.jsx(K,{}),s.jsx("div",{className:"body flex-grow-1",children:s.jsx(L,{})}),s.jsx(P,{})]})]});export{ae as default};
